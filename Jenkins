pipeline {
   environment { 
        registry = "reddyswa/alpine" 
        registryCredential = 'reddyswa' 
        dockerImage = '' 
    }
    
    agent any    
    tools{nodejs "node"}
    stages{
        stage("npm build"){
            steps{
             
             sh "npm install"
            }       
        }
    
      stage("Building Docker Image"){
            steps{
               script{
                 dockerImage = docker.build registry + ":$BRANCH_NAME-$BUILD_NUMBER"
               }
            }
        }
   }
}
